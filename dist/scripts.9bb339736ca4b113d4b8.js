(()=>{var e={126:()=>{window.addEventListener("load",(function(){fetch("config.json").then((e=>e.json())).then((o=>{e=o.timer,o.rules.forEach((e=>t.push(e)))}))}));let e="",t=[];const o=document.querySelector(".mainPage__username"),n=document.querySelector(".mainPage__usergreet"),r=document.querySelector(".mainPage__continue"),s=document.querySelectorAll(".section"),c=document.querySelector(".mainPage__mode"),a=document.querySelector(".gameBoard-stop");let u;document.querySelector(".mainPage"),r.addEventListener("click",(()=>{""!==o.value.trim()&&(s[0].classList.add("slide"),n.textContent=` ${o.value}`)}));const i=document.querySelector(".gameBoard__info-username");c.addEventListener("click",(e=>{e.target.classList.contains("mainPage__mode-game")&&(b(),L=!0,u=e.target.getAttribute("data"),s[1].classList.add("slide"),i.textContent=o.value,"time"===u?h():C.style.display="none")}));const l=document.querySelector(".num-1"),d=document.querySelector(".num-2"),m=document.querySelector(".operator"),_=document.querySelector(".result"),f=document.querySelector(".userscore"),v=document.querySelector(".gameBoard__info-userscore"),g=document.querySelector(".userscore__status"),p=document.querySelector(".example-board"),y=document.querySelectorAll(".example-board *");console.log(y);let S,w=0,L=!0,x=0,q=0;function b(){if(!L)return!1;{const e=(e,t)=>Math.round(Math.random()*(t-e)+e),t=["+","-","*","/"],o=(e,t,o)=>"+"===o?e+t:"-"===o?e-t:"/"===o?e/t:e*t,n=()=>{const n=t[e(0,3)],r=e(1,10),s=e(1,10),c=o(r,s,n);if("/"===n){const t=e(1,10),r=t*e(1,10);return{num1:r,num2:t,operator:n,result:o(r,t,n)}}return{num1:r,num2:s,operator:n,result:c}};p.style.display="flex";const r=e=>{l.textContent=e.num1,d.textContent=e.num2,m.textContent=e.operator,console.log(s.result),p.classList.add("move"),setTimeout((()=>{p.classList.remove("move")}),1e3)};let s=n();r(s),f.textContent="0",_.addEventListener("keydown",(function(e){if(13===e.keyCode){if(!_.value&&0!==_.value)return;p.classList.add("moveLeft"),setTimeout((()=>{p.classList.remove("moveLeft")}),1e3),Number(_.value)===Number(s.result)?(w++,x++,g.textContent="+1",g.classList.add("userscore__status-correct"),setTimeout((()=>{g.classList.remove("userscore__status-correct")}),1500)):(w<=0||(w--,q++),g.textContent="-1",v.classList.add("gameBoard__info-userscore-incorrect"),g.classList.add("userscore__status-incorrect"),setTimeout((()=>{v.classList.remove("gameBoard__info-userscore-incorrect"),g.classList.remove("userscore__status-incorrect")}),1500)),f.textContent=w,_.value="",s=n(),setTimeout((()=>{r(s)}),1e3)}}))}}function E(){!function(){null==localStorage.getItem(`${u}-users`)&&localStorage.setItem(`${u}-users`,JSON.stringify([]));let e=JSON.parse(localStorage.getItem(`${u}-users`));if(e.findIndex((e=>e.username===o.value))>=0){let t=e.findIndex((e=>e.username===o.value)),n=e.find((e=>e.username===o.value));w>n.userscore&&(e[t]={username:o.value,userscore:w},localStorage.setItem(`${u}-users`,JSON.stringify(e))),n.userscore}else e.push({username:o.value,userscore:w}),localStorage.setItem(`${u}-users`,JSON.stringify(e))}(),clearInterval(S),w=0}const C=document.querySelector(".gameBoard__timer");function h(){let t=e.split(":");time=60*Number(t[0])+Number(t[1]),C.innerText=`${t[0]}:${t[1]}`,setTimeout((()=>{L&&(S=setInterval((()=>(time--,seconds=Math.floor(time%60),minutes=Math.floor(time/60%60),C.innerText=`${minutes}: ${seconds}`,void(0===seconds&&0===minutes&&(J(),E())))),1e3))}),1e3)}a.addEventListener("click",(()=>{J(),E(),L=!1}));const $=document.querySelectorAll(".linkToWindow"),A=document.querySelector(".window"),k=document.querySelector(".window__close"),I=document.querySelector(".window-title"),T=document.querySelector(".window__list"),N=document.querySelector(".window__mode"),B=document.querySelectorAll(".window__mode-item");function P(){A.classList.add("openWindow")}function O(){A.classList.remove("openWindow")}function J(){P(),R(),N.classList.remove("window__mode-visiable"),I.textContent=`Your score: ${w}`;const e=document.createElement("p");e.setAttribute("class","linkToWindow window__button"),e.textContent="LEADERBOARD";const t=document.createElement("div");t.setAttribute("class","window__list-statistic");const o=document.createElement("p"),n=document.createElement("p");o.textContent=`Correct: ${x} `,n.textContent=` Incorrect: ${q}`;const r=document.createElement("p");r.textContent="Play Again",r.setAttribute("class","window__button"),t.append(o,n),T.append(t,e,r),T.style="text-align:center",e.addEventListener("click",(()=>{M(),s[1].classList.remove("slide")})),r.addEventListener("click",(()=>{O(),b(),h()}))}function M(){I.textContent="Table of Leaders",N.classList.add("window__mode-visiable"),R(),B.forEach((e=>{e.addEventListener("click",(e=>{R(),W(e.target.getAttribute("data"))}))})),W()}function W(e=u||"practice"){JSON.parse(localStorage.getItem(`${e}-users`)).sort(((e,t)=>t.userscore-e.userscore)).map((e=>{j(e)}))}function j(e){const t=document.createElement("li");t.setAttribute("class","window__list-item"),"object"==typeof e&&t.append(`Username: ${e.username}, score ${e.userscore}`),"string"!=typeof e&&"number"!=typeof e||t.append(e),T.append(t)}function R(){for(;T.firstChild;)T.removeChild(T.firstChild)}$.forEach((e=>{e.addEventListener("click",(function(e){P(),"data-rules"===e.target.getAttribute("data")&&(R(),N.classList.remove("window__mode-visiable"),I.textContent="Rules of the Game",t.forEach((e=>{j(e)}))),"data-leaderBoard"===e.target.getAttribute("data")&&M()}))})),k.addEventListener("click",O)}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}(()=>{"use strict";o(126)})()})();